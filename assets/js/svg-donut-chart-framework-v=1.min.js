var programmingSkills=[{value:38.2,label:"创始人 38.2%",color:"#454bd8"},{value:10,label:"合伙人 10.0%",color:"#efcc8d"},{value:20.53,label:"投资人 20.53%",color:"#4cccd6"},{value:31.66,label:"队友预留 31.66%",color:"#e26280"}],programmingSkills02=[{value:30,label:"鸟币支付",color:"#454bd8"},{value:10,label:"超清视频",color:"#a585d3"},{value:10,label:"昆仑法门",color:"#efcc8d"},{value:34.86,label:"九转金丹",color:"#4cccd6"},{value:15.14,label:"行动派",color:"#e26280"}];(function(t,e,r,n){"use strict";function i(e,r){this.$el=t(e),this.opts=r,this.snap=n(e),this.startShowAnimation=i.prototype.startShowAnimation,this.init()}i.prototype.init=function(){this.drawLegend(),this.drawBaseCircle()},i.prototype.drawBaseCircle=function(){var t=this.snap,e=this.opts,r=t.path("M10-5-10,15M15,0,0,15M0-5-20,15").attr({fill:"none",stroke:"none",strokeWidth:0}),n=t.circle(e.center.y,e.center.y,e.radius).attr({fill:r});i.prototype.circle=t.circle(e.center.y,e.center.y,e.radius).attr({fill:"r(0.5, 0.5, 0.5)#FFC575-#fff",mask:n,stroke:"#D9D9D9",strokeWidth:0,opacity:0}),t.circle(e.center.y,e.center.y,e.radius).attr({stroke:"#D9D9D9",fill:"none",strokeWidth:0})},i.prototype.drawLegend=function(){for(var t=this.snap,e=this.opts,r=e.data,n=e.center.x+e.radius+50,i=30,a=6,o=e.center.y-r.length/2*i+a/2+(i-a)/2,c=0;c<r.length;c++){var l=r[c];l.legend={baseCircle:t.circle(n,o,a),baseCircleRadius:a,text:t.text(n+i,o+a/2,l.label),center:{x:n,y:o}},l.legend.baseCircle.attr({stroke:"0",fill:"none",strokeWidth:0,color:""}),o+=i}},i.prototype.buildArcPath=function(t,e,r,n){var i=this.translatedPoint(t,e,r),a=this.translatedPoint(t,e,n),o=n-r>180?1:0;return"M"+i.x+","+i.y+" A"+e+","+e+" 0 "+o+",1 "+a.x+","+a.y},i.prototype.animateArcByDegrees=function(t,e,r){var i=this.snap,a=this;n.animate(t.degreesStart,t.degreesEnd,function(e){t.draw&&t.draw.remove(),t.path=a.buildArcPath(t.center,t.radius,t.degreesStart,e),t.draw=i.path(t.path),t.draw.attr({stroke:t.color,fill:"none",strokeWidth:t.strokeWidth,cursor:"pointer"})},e,mina.linear,function(){r&&r()})},i.prototype.animateArcByStroke=function(t,e,r,i,a){var o=this.snap,c=this;n.animate(e,r,function(e){t.draw&&t.draw.remove();var r=t.radius+(e-t.strokeWidth)/6;t.path=c.buildArcPath(t.center,r,t.degreesStart,t.degreesEnd),t.draw=o.path(t.path),t.draw.attr({stroke:t.color,fill:"none",strokeWidth:e,cursor:"pointer"})},i,mina.bounce,function(){a&&a()})},i.prototype.createLegendCircle=function(t){t.draw=this.snap.circle(t.x,t.y,t.radius),t.draw.attr({fill:t.color})},i.prototype.animateShowLegendCircle=function(t,e){t.draw.transform("s0,"+t.x+","+t.y),t.draw.animate({transform:"s1,"+t.x+","+t.y},e,mina.bounce)},i.prototype.startShowAnimationOneEntry=function(t,e,r,n,i,a){t.arc={percentStart:e,percentEnd:r,degreesStart:parseFloat(e)/100*360,degreesEnd:parseFloat(r)/100*360,color:t.color,strokeWidth:40,center:n,radius:i},this.animateArcByDegrees(t.arc,900,a),t.legend.circle={color:t.color,x:t.legend.center.x,y:t.legend.center.y,radius:t.legend.baseCircleRadius+2},this.createLegendCircle(t.legend.circle),this.animateShowLegendCircle(t.legend.circle,400)},i.prototype.translatedPoint=function(t,e,r){var n=Math.PI*(r-270)/180;return{x:t.x+e*Math.cos(n),y:t.y+e*Math.sin(n)}},i.prototype.hightlightElement=function(t){this.snap;var e=this.opts;e.data;if(this.previousHighlightElement!=t){this.previousHighlightElement&&this.normalElement(this.previousHighlightElement),this.previousHighlightElement=t;var r=t.legend.circle;r.draw.animate({transform:"s1.3,"+r.x+","+r.y},200,mina.bounce),this.animateArcByStroke(t.arc,t.arc.strokeWidth,t.arc.strokeWidth+20,500)}},i.prototype.normalElement=function(t){this.snap;var e=this.opts,r=this,n=(e.data,t.legend.circle);n.draw.animate({transform:"s1,"+n.x+","+n.y},500,mina.bounce),this.animateArcByStroke(t.arc,t.arc.strokeWidth+6,t.arc.strokeWidth,500,function(){t.arc.draw.mouseover(function(){r.hightlightElement(t)}),t.arc.draw.click(function(){r.hightlightElement(t)})})},i.prototype.initInteraction=function(t,e){var r=this.snap,n=this,i=t.legend,a=t.arc;i.button=r.rect(i.center.x-2*i.baseCircleRadius,i.center.y-e/2,200,e),i.button.attr({opacity:0,cursor:"pointer",color:"red"}),i.button.mouseover(function(){n.hightlightElement(t)}),i.button.click(function(){n.hightlightElement(t)}),a.draw.mouseover(function(){n.hightlightElement(t)}),a.draw.click(function(){n.hightlightElement(t)})},i.prototype.initInteractions=function(){this.snap;for(var t=this.opts,e=t.data,r=0;r<e.length;r++)this.initInteraction(e[r],30)},i.prototype.startShowAnimation=function(t,e,r){t&&!e&&(r=t,t=e);this.snap;var a=this.opts,o=this,c=a.data,l=0,s=0;if(t)l=t,s=e;else{for(var d=0;d<c.length;d++){var h=c[d];h.arc&&h.arc.draw&&h.arc.draw.remove(),h.legend&&h.legend.circle&&h.legend.circle.draw&&h.legend.circle.draw.remove()}n.animate(0,.5,function(t){i.prototype.circle.attr({opacity:t})},800)}if(c.length>l){h=c[l];this.startShowAnimationOneEntry(h,s,s+h.value,a.center,a.radius,function(){o.startShowAnimation(l+1,s+h.value,r)})}else this.initInteractions(),r&&r()},t.fn.donut=function(t){var e=[];return this.each(function(){e.push(new i(this,t))}),1==e.length?e[0]:e}})(jQuery,document,window,Snap);var donutSize=300,donut=$("#svg").donut({donutSize:donutSize,center:{x:donutSize/2,y:donutSize/2},radius:.3*donutSize/1,data:programmingSkills}),donut02=$("#svg02").donut({donutSize:donutSize,center:{x:donutSize/2,y:donutSize/2},radius:.3*donutSize/1,data:programmingSkills02});donut.startShowAnimation(function(){$("button").attr("disabled",!1)}),donut02.startShowAnimation(function(){$("button").attr("disabled",!1)});